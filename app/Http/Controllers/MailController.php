<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Mail;
use App\Mail\ClientRegistrationEmail;
use App\Mail\ClientDiscountEmail;
use App\Mail\ClientBookingEmail;
use App\Mail\AdminBookingEmailNotification;

class MailController extends Controller
{
    public static function clientEmailVerification($email, $email_verification_token, $clientName){
        $data = [
            'email'                     => $email,
            'email_verification_token'  => $email_verification_token,
            'clientName'                => $clientName,
        ];

        Mail::to($email)->send(new ClientRegistrationEmail($data));
        
    }

    public static function newClientDiscountMail($email, $clientName){

        $data = [
            'email'         => $email,
            'clientName'    => $clientName,
        ];

        Mail::to($email)->send(new ClientDiscountEmail($data));
    }

    public static function clientServiceBookingMail($email, $clientName, $jobReference, $securityCode, $serviceName, $categoryName, $amount, $serviceFeeName, $timestamp, $paymentMethod, $paymentReference){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200"><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">Service Request('.$jobReference.') Details</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello, <strong>'.$clientName.'</strong>. Thank you for booking your job on FixMaster. A dedicated Customer Service Executive(CSE) will be assigned to your request and will be in touch with you soon.</div><div><strong>Job Reference:</strong> '.$jobReference.'</div><div><strong>Service:</strong> '.$serviceName.' ('.$categoryName.')</div><div><strong>Security Code:</strong> '.$securityCode.'</div><div><strong>Service Charge</strong>: ₦'.number_format($amount).'</div><div><strong>Fee Type:</strong> '.strtoupper($serviceFeeName).'</div><div><strong>Scheduled Date &amp; Time:</strong> '.$timestamp.'</div><div><strong>Payment Method:</strong> '.$paymentMethod.'</div><div><strong>Payment Reference:</strong> '.$paymentReference.'</div> <br><div>We thank you for your patronage and look forward to pleasing you with our service quality.</div></div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';

        $subject = 'Service Request('.$jobReference.') Details';
        PHPMailerController::sendMail($email, $mailBody, $subject);

        // Mail::to($email)->send(new ClientBookingEmail($data));
    }

    public static function adminServiceBookingMailNotification($email, $clientName, $jobReference, $securityCode, $serviceName, $categoryName, $amount, $serviceFeeName, $timestamp, $paymentMethod, $paymentReference){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200"><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">Service Request('.$jobReference.') Details</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Service request details for '.$clientName.', for '.$clientName.' ('.$jobReference.') job.</div><div>&nbsp;</div><div><strong>Request Breadkdown:</strong></div><div>&nbsp;</div><div><table style="border-collapse: collapse; width: 100%;" border="1"><tbody><tr><td style="width: 29.9577%;">Service</td><td style="width: 29.9577%;">Category</td><td style="width: 30.1914%;"><div><div>Service Charge</div></div></td></tr><tr><td style="width: 29.9577%;"><div><div>'.$serviceName.'</div></div></td><td style="width: 29.9577%;"><div><div>'.$categoryName.'</div></div></td><td style="width: 30.1914%;"><div><div>₦'.number_format($amount).'</div></div></td></tr></tbody></table></div><br><div><strong>Job Reference:</strong> '.$jobReference.'</div><div><strong>Service:</strong> '.$serviceName.' ('.$categoryName.')</div><div><strong>Security Code:</strong> '.$securityCode.'</div><div><strong>Service Charge</strong>: ₦'.number_format($amount).'</div><div><strong>Fee Type:</strong> '.strtoupper($serviceFeeName).'</div><div><strong>Scheduled Date &amp; Time:</strong> '.$timestamp.'</div><div><strong>Payment Method:</strong> '.$paymentMethod.'</div><div><strong>Payment Reference:</strong> '.$paymentReference.'</div></div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';

        $subject = 'Service Request for '.$clientName.'('.$jobReference.')';
        PHPMailerController::sendMail($email, $mailBody, $subject);

        // Mail::to($email)->send(new AdminBookingEmailNotification($data));

    }

    public static function assignCseEmailNotification($cseEmail, $cseName, $jobReference){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200" ><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">New Job('.$jobReference.') Assignment</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello, <strong>'.$cseName.'</strong>, you have been assigned to <strong>'.$jobReference.'</strong> job. Kindly proceed to critically reviewing the client\'s request.</div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';
            
        $subject = 'New Job('.$jobReference.') Assignment';
        PHPMailerController::sendMail($cseEmail, $mailBody, $subject);

    }

    public static function assignTechnicianEmailNotification($technicianEmail, $technicianName, $cseName, $jobReference){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200" ><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">New Job('.$jobReference.') Assignment</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello, <strong>'.$technicianName.'</strong>, you have been assigned to <strong>'.$jobReference.'</strong> job. Kindly proceed to reviewing the client\'s request and await further instructions from the <strong>'.$cseName.'</strong>(CSE) assigned to you.</div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';
            
        $subject = 'New Job('.$jobReference.') Assignment';
        PHPMailerController::sendMail($technicianEmail, $mailBody, $subject);

    }

    public static function notifyClientOfCSETechnicianAssigning($clientEmail, $clientName, $securityCode, $jobReference){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200" ><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">CSE & Technician has been assigned to '.$jobReference.' service request</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello, <strong>'.$clientName.'</strong>, we are glad to inform you that our best Client Service Executive and a Technician has been assigned to your Service Request (<strong>'.$jobReference.'</strong>). Once again, here is your Security Code to verify their identities.</p><p><strong>Security Code</strong>: '.$securityCode.'</div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';
            
        $subject = 'A CSE & Technician has been assigned to '.$jobReference.' service request';
        PHPMailerController::sendMail($clientEmail, $mailBody, $subject);

    }

    public static function clientServiceRequestCancellationEmailNotification($clientEmail, $clientName,$jobReference, $reason){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200" ><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">Your Service Request('.$jobReference.') has been cancelled</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello, <strong>'.$clientName.'</strong>, this is to inform you that your Service Request (<strong>'.$jobReference.'</strong>) has been cancelled.</p><p><strong>Reason</strong>: '.$reason.'</div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';
            
        $subject = 'Service Request('.$jobReference.') cancellation.';
        PHPMailerController::sendMail($clientEmail, $mailBody, $subject);
    }

    public static function adminServiceRequestCancellationEmailNotification($email, $clientName,$jobReference, $reason){

        $mailBody = '<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="top" bgcolor="#66809b" background="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/handyman.jpg" style="filter: brightness(95%); background-size: cover; background-position: top;" height="200" ><table class="col-600" width="600" height="100" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td align="center" style="line-height: 0px;"> <img style="display: block; line-height: 0px; font-size: 0px; border: 0px; line-height: 24px;" src="https://www.fixmaster.com.ng/wp-content/uploads/2020/11/fix-master-logo-straight.png" width="170" alt="FixMaster logo" /></td></tr><tr><td align="center" style="font-size: 25px; color: #fff; line-height: 24px; font-weight: bold;">When FixMaster repairs - you Relax!!!</td></tr><tr><td height="10"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 20px; margin-right: 20px;"><tbody><tr><td height="35"></td></tr><tr><td align="center" style="font-size: 22px; font-weight: bold; color: #2a3a4b;">Service Request('.$jobReference.') cancellation</td></tr><tr><td height="10"></td></tr><tr><td align="" style="font-size: 14px; color: #757575; line-height: 24px; font-weight: 300;"><div><div>Hello <strong>FixMaster</strong>, this is to inform you that <strong>Mr/Mrs '.$clientName.'</strong> cancelled his/her Service Request (<strong>'.$jobReference.'</strong>).</p><p><strong>Reason</strong>: '.$reason.'</div></td></tr></tbody></table></td></tr><tr><td align="center"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="10"></td></tr><tr><td><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><table class="col3" width="183" border="0" align="left" cellpadding="0" cellspacing="0"><tbody><tr><td height="30"></td></tr><tr><td height="15"></td></tr></tbody></table><table width="1" height="20" border="0" cellpadding="0" cellspacing="0" align="left"><tbody><tr><td height="20" style="font-size: 0; line-height: 0; border-collapse: collapse;"><p style="padding-left: 24px;">&nbsp;</p></td></tr></tbody></table><tbody><tr><td><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0" style="margin-left: 40px; margin-right: 20px; margin-top: 20px; font-size: 14px"><tbody><tr><td>Thanks,</td></tr><tr><td>FixMaster Management</td></tr><tr><td><img class="CToWUd" src="http://temp.homefix.ng/assets/images/home-fix-logo-colored.png" alt="FixMaster Logo" width="70" /></td></tr><td>284B, Ajose Adeogun Street, Victoria Island, Lagos, Nigeria. 08132863878 | <a href="mailto:info@fixmaster.com.ng" target="_blank" rel="noopener">info@fixmaster.com.ng</a></td><td>&nbsp;</td></tbody></table></td></tr><tr><td align="center"><table align="center" width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td height="50"></td></tr><tr><td align="center" bgcolor="#34495e" background="https://designmodo.com/demo/emailtemplate/images/footer.jpg" height="185"><table class="col-600" width="600" border="0" align="center" cellpadding="0" cellspacing="0"><tbody><tr><td height="25"></td></tr><tr><td align="center" style="font-size: 26px !important; font-weight: bold !important; color: #fff !important;">Follow us on social media</td></tr><tr><td height="25"></td></tr></tbody></table><table align="center" width="35%" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-fb.png" /> </a></td><td align="center" class="margin" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-twitter.png" /> </a></td><td align="center" width="30%" style="vertical-align: top;"> <a href="#" target="_blank"> <img src="https://designmodo.com/demo/emailtemplate/images/icon-googleplus.png" /> </a></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></td></tr></tbody></table></td></tr></tbody></table>';
            
        $subject = 'Service Request('.$jobReference.') cancellation notification.';
        PHPMailerController::sendMail($email, $mailBody, $subject);
    }

}
